<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="keywords" content="Map双列集合,个人网站，个人博客，meethigher，学习，生活"><meta name="description" content="学习一下Map双列集合"><title>Map双列集合</title><link rel="shortcut icon" href="/blog/images/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/meethigher/cdn@9.0/css/meethigher-font.css"><link rel="stylesheet" href="/blog/css/index.css"></head><body><header class="header"><div class="header-menu"><span class="fa fa-bars"></span></div><div class="header-search"><span class="fa fa-search"></span></div><div class="header-title"><a href="/">言成言成啊<span class="header-subtitle"> | Kit Chen&#39;s Blog</span></a></div><ul class="header-navbar clearFix"><li><a href="/blog/">主页</a></li><li><a href="/blog/tags">标签</a></li><li><a href="/blog/archives">归档</a></li><li><a href="/blog/about">关于</a></li></ul></header><div id="particles-js"></div><script src="https://cdn.jsdelivr.net/gh/meethigher/cdn@9.0/js/particles.min.js"></script><script src="https://cdn.jsdelivr.net/gh/meethigher/cdn@9.0/js/app.js"></script><div class="search" title="站内搜索"><span class="fa fa-search"></span></div><div class="tool"><div class="up" title="返回顶部"><span class="fa fa-long-arrow-up"></span></div><div class="down" title="返回底部"><span class="fa fa-long-arrow-down"></span></div><a href="/blog/app.apk" class="app" title="下载App" download="app.apk"><span class="fa fa-android"></span></a></div><main class="main"><div class="main-content"><article class="post"><div class="post-title"><h2 class="title">Map双列集合</h2></div><div class="post-content blog-markdown"><h1 id="第一章-Map集合"><a href="#第一章-Map集合" class="headerlink" title="第一章 Map集合"></a>第一章 Map集合</h1><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p>现实生活中，我们常会看到这样的一种集合：IP地址与主机名，身份证号与个人，系统用户名与系统用户对象等，这种一一对应的关系，就叫做映射。Java提供了专门的集合类用来存放这种对象关系的对象，即<code>java.util.Map</code>接口。</p><p>我们通过查看<code>Map</code>接口描述，发现<code>Map</code>接口下的集合与<code>Collection</code>接口下的集合，它们存储数据的形式不同，如下图。</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC" data-original="/blog/2019/map/Collection%E4%B8%8EMap.png" title="Collection与Map"><ul><li><code>Collection</code>中的集合，元素是孤立存在的（理解为单身），向集合中存储元素采用一个个元素的方式存储。</li><li><code>Map</code>中的集合，元素是成对存在的(理解为夫妻)。每个元素由键与值两部分组成，通过键可以找对所对应的值。</li><li><code>Collection</code>中的集合称为单列集合，<code>Map</code>中的集合称为双列集合。</li><li>需要注意的是，<code>Map</code>中的集合不能包含重复的键，值可以重复；每个键只能对应一个值。</li></ul><h2 id="1-2-Map常用子类"><a href="#1-2-Map常用子类" class="headerlink" title="1.2  Map常用子类"></a>1.2 Map常用子类</h2><p>通过查看Map接口描述，看到Map有多个子类，这里我们主要讲解常用的HashMap集合、LinkedHashMap集合。</p><ul><li><strong>HashMap&lt;K,V&gt;</strong>：存储数据采用的哈希表结构，元素的存取顺序不能保证一致。由于要保证键的唯一、不重复，需要重写键的hashCode()方法、equals()方法。</li><li><strong>LinkedHashMap&lt;K,V&gt;</strong>：HashMap下有个子类LinkedHashMap，存储数据采用的哈希表结构+链表结构。通过链表结构可以保证元素的存取顺序一致；通过哈希表结构可以保证的键的唯一、不重复，需要重写键的hashCode()方法、equals()方法。</li></ul><blockquote><p>tips：Map接口中的集合都有两个泛型变量&lt;K,V&gt;,在使用时，要为两个泛型变量赋予数据类型。两个泛型变量&lt;K,V&gt;的数据类型可以相同，也可以不同。</p></blockquote><h2 id="1-3-Map接口中的常用方法"><a href="#1-3-Map接口中的常用方法" class="headerlink" title="1.3  Map接口中的常用方法"></a>1.3 Map接口中的常用方法</h2><p>Map接口中定义了很多方法，常用的如下：</p><ul><li><code>public V put(K key, V value)</code>: 把指定的键与指定的值添加到Map集合中。</li><li><code>public V remove(Object key)</code>: 把指定的键 所对应的键值对元素 在Map集合中删除，返回被删除元素的值。</li><li><code>public V get(Object key)</code> 根据指定的键，在Map集合中获取对应的值。</li><li><code>boolean containsKey(Object key)</code> 判断集合中是否包含指定的键。</li><li><code>public Set&lt;K&gt; keySet()</code>: 获取Map集合中所有的键，存储到Set集合中。</li><li><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>: 获取到Map集合中所有的键值对对象的集合(Set集合)。</li></ul><p>Map接口的方法演示</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01Map</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//		show01();</span></span><br><span class="line"><span class="comment">//		show02();</span></span><br><span class="line"><span class="comment">//		show03();</span></span><br><span class="line">		show04();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 演示put方法</span></span><br><span class="line"><span class="comment">	 * V put(K key, V value);</span></span><br><span class="line"><span class="comment">	 * 返回值：V</span></span><br><span class="line"><span class="comment">	 * 存储键值对的时候，key不重复，返回值v是null</span></span><br><span class="line"><span class="comment">	 * 存储键值对的时候，key重复，会使用新的value替换map中重复的value，返回被替换的value值</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建map，使用多态</span></span><br><span class="line">		Map&lt;String,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;(); </span><br><span class="line">		System.out.println(map.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>));<span class="comment">//没有重复的返回就为null</span></span><br><span class="line">		System.out.println(map.put(<span class="string">"水冰儿"</span>, <span class="number">20</span>));<span class="comment">//有重复的返回被替换的value值 19</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(map.put(<span class="string">"云韵"</span>, <span class="number">30</span>));</span><br><span class="line">		System.out.println(map.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>));</span><br><span class="line">		System.out.println(map);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 演示remove方法</span></span><br><span class="line"><span class="comment">	 * V remove(Object key);</span></span><br><span class="line"><span class="comment">	 * 返回值：V</span></span><br><span class="line"><span class="comment">	 * key存在，返回被删除的值</span></span><br><span class="line"><span class="comment">	 * key不存在，返回Null</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Map&lt;String,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">		map.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>);</span><br><span class="line">		map.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>);</span><br><span class="line">		map.put(<span class="string">"妙妙"</span>, <span class="number">18</span>);</span><br><span class="line">		System.out.println(map);<span class="comment">//&#123;焰灵姬=28, 水冰儿=19, 妙妙=18&#125;</span></span><br><span class="line">		System.out.println(map.remove(<span class="string">"水冰儿"</span>));<span class="comment">//19</span></span><br><span class="line">		System.out.println(map);<span class="comment">//&#123;焰灵姬=28, 妙妙=18&#125;</span></span><br><span class="line">		System.out.println(map.remove(<span class="string">"林志颖"</span>));<span class="comment">//null</span></span><br><span class="line">		System.out.println(map);<span class="comment">//&#123;焰灵姬=28, 妙妙=18&#125;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 演示get方法</span></span><br><span class="line"><span class="comment">	 * V get(Object key);</span></span><br><span class="line"><span class="comment">	 * 返回值：V</span></span><br><span class="line"><span class="comment">	 * 如果key存在，返回对应的value值</span></span><br><span class="line"><span class="comment">	 * 如果key不存在，返回null</span></span><br><span class="line"><span class="comment">	 *  </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Map&lt;String,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">		map.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>);</span><br><span class="line">		map.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>);</span><br><span class="line">		map.put(<span class="string">"妙妙"</span>, <span class="number">18</span>);</span><br><span class="line">		System.out.println(map);<span class="comment">//&#123;焰灵姬=28, 水冰儿=19, 妙妙=18&#125;</span></span><br><span class="line">		System.out.println(map.get(<span class="string">"水冰儿"</span>));<span class="comment">//19</span></span><br><span class="line">		System.out.println(map.get(<span class="string">"紫女"</span>));<span class="comment">//null</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 演示containsKey方法</span></span><br><span class="line"><span class="comment">	 * boolean containsKey(Object key);判断集合中是否包含指定的key</span></span><br><span class="line"><span class="comment">	 * 返回：boolean</span></span><br><span class="line"><span class="comment">	 * 包含返回true</span></span><br><span class="line"><span class="comment">	 * 不包含返回false</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show04</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Map&lt;String,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">		map.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>);</span><br><span class="line">		map.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>);</span><br><span class="line">		map.put(<span class="string">"妙妙"</span>, <span class="number">18</span>);</span><br><span class="line">		System.out.println(map.containsKey(<span class="string">"水冰儿"</span>));<span class="comment">//true</span></span><br><span class="line">		System.out.println(map.containsKey(<span class="string">"焰灵姬啊"</span>));<span class="comment">//false</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-4-Map集合遍历——键找值方式"><a href="#1-4-Map集合遍历——键找值方式" class="headerlink" title="1.4   Map集合遍历——键找值方式"></a>1.4 Map集合遍历——键找值方式</h2><p>键找值方式：即通过元素中的键，获取键所对应的值</p><p>分析步骤：</p><ol><li>获取Map中所有的键，由于键是唯一的，所以返回一个Set集合存储所有的键。方法提示:<code>keyset()</code></li><li>遍历键的Set集合，得到每一个键。</li><li>根据键，获取键所对应的值。方法提示:<code>get(K key)</code></li></ol><p>代码演示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02Map</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Map&lt;String, Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">		map.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>);</span><br><span class="line">		map.put(<span class="string">"妙妙"</span>, <span class="number">22</span>);</span><br><span class="line">		map.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//Iterator迭代器遍历</span></span><br><span class="line"><span class="comment">//		Iterator&lt;String&gt; i=map.keySet().iterator();</span></span><br><span class="line"><span class="comment">//		while(i.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">//			String key=i.next();</span></span><br><span class="line"><span class="comment">//			System.out.println(key+map.get(key));</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//增强for遍历</span></span><br><span class="line">		<span class="keyword">for</span>(String key:map.keySet()) &#123;</span><br><span class="line">			System.out.print(key);</span><br><span class="line">			System.out.println(map.get(key));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>遍历图解：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC" data-original="/blog/2019/map/Map%E9%9B%86%E5%90%88%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%E4%B8%80.png" title="Map集合遍历方式一"><h2 id="1-5-Entry键值对对象"><a href="#1-5-Entry键值对对象" class="headerlink" title="1.5  Entry键值对对象"></a>1.5 Entry键值对对象</h2><p>我们已经知道，<code>Map</code>中存放的是两种对象，一种称为<strong>key</strong>(键)，一种称为<strong>value</strong>(值)，它们在在<code>Map</code>中是一一对应关系，这一对对象又称做<code>Map</code>中的一个<code>Entry(项)</code>。<code>Entry</code>将键值对的对应关系封装成了对象。即键值对对象，这样我们在遍历<code>Map</code>集合时，就可以从每一个键值对（<code>Entry</code>）对象中获取对应的键与对应的值。</p><p>既然Entry表示了一对键和值，那么也同样提供了获取对应键和对应值得方法：</p><ul><li><code>public K getKey()</code>：获取Entry对象中的键。</li><li><code>public V getValue()</code>：获取Entry对象中的值。</li></ul><p>在Map集合中也提供了获取所有Entry对象的方法：</p><ul><li><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>: 获取到Map集合中所有的键值对对象的集合(Set集合)。</li></ul><h2 id="1-6-Map集合遍历——键值对方式"><a href="#1-6-Map集合遍历——键值对方式" class="headerlink" title="1.6 Map集合遍历——键值对方式"></a>1.6 Map集合遍历——键值对方式</h2><p>键值对方式：即通过集合中每个键值对(Entry)对象，获取键值对(Entry)对象中的键与值。</p><p>操作步骤与图解：</p><ol><li><p>获取Map集合中，所有的键值对(Entry)对象，以Set集合形式返回。方法提示:<code>entrySet()</code>。</p></li><li><p>遍历包含键值对(Entry)对象的Set集合，得到每一个键值对(Entry)对象。</p></li><li><p>通过键值对(Entry)对象，获取Entry对象中的键与值。 方法提示:<code>getkey() getValue()</code></p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03Map</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * Map.Entry&lt;K,V&gt;:在map接口中有一个内部接口Entry</span></span><br><span class="line"><span class="comment">		 * 作用：当Map集合一创建，那么就会在Map集合中创建一个Entry对象，用来记录键和值（键值对对象，键与值的映射关系）</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * Map集合遍历的第二种方式：使用Entry遍历</span></span><br><span class="line"><span class="comment">		 * 实现步骤：</span></span><br><span class="line"><span class="comment">		 * 1.使用Map中的方法，entrySet(),把集合中多个Entry对象取出来，存储到一个Set集合中</span></span><br><span class="line"><span class="comment">		 * 2.遍历Set集合，获取每一个Entry对象</span></span><br><span class="line"><span class="comment">		 * 3.使用对象中的方法getKey()和getValue()方法获取键与值</span></span><br><span class="line"><span class="comment">		 * </span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		Map&lt;String, Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">		map.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>);</span><br><span class="line">		map.put(<span class="string">"妙妙"</span>, <span class="number">22</span>);</span><br><span class="line">		map.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>);</span><br><span class="line"><span class="comment">//		System.out.println(map);</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">//		Set&lt;java.util.Map.Entry&lt;String, Integer&gt;&gt; set=map.entrySet();//这个写法也没毛病</span></span><br><span class="line">		Set&lt;Entry&lt;String, Integer&gt;&gt; set=map.entrySet();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//使用Iterator迭代器遍历</span></span><br><span class="line"><span class="comment">//		Iterator&lt;Entry&lt;String,Integer&gt;&gt; i=set.iterator();</span></span><br><span class="line"><span class="comment">//		while(i.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">//			Entry&lt;String,Integer&gt; ii=i.next();</span></span><br><span class="line"><span class="comment">//			System.out.println(ii.getKey()+ii.getValue());</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//使用增强for遍历</span></span><br><span class="line">		<span class="keyword">for</span>(Entry&lt;String,Integer&gt; ii:set) &#123;</span><br><span class="line">			System.out.println(ii.getKey()+ii.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>遍历图解：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC" data-original="/blog/2019/map/Map%E9%9B%86%E5%90%88%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%E4%BA%8C.png" title="Map集合遍历方式二"><blockquote><p>tips：Map集合不能直接使用迭代器或者foreach进行遍历。但是转成Set之后就可以使用了。</p></blockquote><h2 id="1-7-HashMap存储自定义类型键值"><a href="#1-7-HashMap存储自定义类型键值" class="headerlink" title="1.7  HashMap存储自定义类型键值"></a>1.7 HashMap存储自定义类型键值</h2><p><strong>HashMap存储自定义类型键值</strong></p><p>Map集合保证key是唯一的：作为key的元素，必须重写<code>hashCode()</code>和<code>equals()</code>方法，以保证元素的唯一</p><p><strong>练习</strong></p><p>每个妹子（姓名，年龄）都有自己的出处。那么，既然有对应关系，则将妹子对象和动漫出处存储到map集合中。</p><p>妹子作为键，出处作为值——show02方法</p><p>出处作为键，妹子作为值——show01方法</p><p><strong>代码演示</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name=name;</span><br><span class="line">		<span class="keyword">this</span>.age=age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">final</span> <span class="keyword">int</span> prime = <span class="number">31</span>;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">		result = prime * result + age;</span><br><span class="line">		result = prime * result + ((name == <span class="keyword">null</span>) ? <span class="number">0</span> : name.hashCode());</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span> == obj)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (obj == <span class="keyword">null</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (getClass() != obj.getClass())</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		Person other = (Person) obj;</span><br><span class="line">		<span class="keyword">if</span> (age != other.age)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (name == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (other.name != <span class="keyword">null</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!name.equals(other.name))</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03HashMapSavePerson</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		show01();</span><br><span class="line"><span class="comment">//		show02();</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * HashMap存储自定义类型键值</span></span><br><span class="line"><span class="comment">	 * key:String类型</span></span><br><span class="line"><span class="comment">	 * String类重写hashCode()和equals()方法，可以保证key唯一</span></span><br><span class="line"><span class="comment">	 * value:Person类型</span></span><br><span class="line"><span class="comment">	 * value可以重复（同名同年龄的人视为同一个）</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		HashMap&lt;String,Person&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">		map.put(<span class="string">"斗罗大陆"</span>, <span class="keyword">new</span> Person(<span class="string">"水冰儿"</span>,<span class="number">18</span>));</span><br><span class="line">		map.put(<span class="string">"斗破苍穹"</span>, <span class="keyword">new</span> Person(<span class="string">"云韵"</span>,<span class="number">30</span>));</span><br><span class="line">		map.put(<span class="string">"天行九歌"</span>, <span class="keyword">new</span> Person(<span class="string">"焰灵姬"</span>,<span class="number">28</span>));</span><br><span class="line">		map.put(<span class="string">"梦塔雪迷城"</span>, <span class="keyword">new</span> Person(<span class="string">"妙妙"</span>,<span class="number">22</span>));</span><br><span class="line">		map.put(<span class="string">"斗破苍穹"</span>, <span class="keyword">new</span> Person(<span class="string">"美杜莎"</span>,<span class="number">32</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//使用Iterator迭代器遍历</span></span><br><span class="line">		Set&lt;Entry&lt;String, Person&gt;&gt; set=map.entrySet();</span><br><span class="line">		Iterator&lt;Entry&lt;String,Person&gt;&gt; i=set.iterator();</span><br><span class="line">		<span class="keyword">while</span>(i.hasNext()) &#123;</span><br><span class="line">			Entry&lt;String, Person&gt; entry=i.next();</span><br><span class="line">			System.out.println(entry.getKey()+<span class="string">"====="</span>+entry.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 天行九歌=====Person [name=焰灵姬, age=28]</span></span><br><span class="line"><span class="comment">		 * 斗罗大陆=====Person [name=水冰儿, age=18]</span></span><br><span class="line"><span class="comment">		 * 斗破苍穹=====Person [name=美杜莎, age=32]</span></span><br><span class="line"><span class="comment">		 * 梦塔雪迷城=====Person [name=妙妙, age=22]</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * HashMap存储自定义类型键值</span></span><br><span class="line"><span class="comment">	 * key:Person类型</span></span><br><span class="line"><span class="comment">	 * Person类重写hashCode()和equals()方法，可以保证key唯一</span></span><br><span class="line"><span class="comment">	 * value:String类型</span></span><br><span class="line"><span class="comment">	 * value可以重复（同名同年龄的人视为同一个）</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		HashMap&lt;Person,String&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">		map.put(<span class="keyword">new</span> Person(<span class="string">"水冰儿"</span>,<span class="number">18</span>),<span class="string">"斗罗大陆"</span>);</span><br><span class="line">		map.put(<span class="keyword">new</span> Person(<span class="string">"云韵"</span>,<span class="number">30</span>),<span class="string">"斗破苍穹"</span>);</span><br><span class="line">		map.put(<span class="keyword">new</span> Person(<span class="string">"焰灵姬"</span>,<span class="number">28</span>),<span class="string">"天行九歌"</span>);</span><br><span class="line">		map.put(<span class="keyword">new</span> Person(<span class="string">"妙妙"</span>,<span class="number">22</span>),<span class="string">"梦塔雪迷城"</span>);</span><br><span class="line">		map.put(<span class="keyword">new</span> Person(<span class="string">"美杜莎"</span>,<span class="number">32</span>),<span class="string">"斗破苍穹"</span>);</span><br><span class="line">		map.put(<span class="keyword">new</span> Person(<span class="string">"美杜莎"</span>,<span class="number">31</span>),<span class="string">"斗破苍穹"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//使用增强for循环遍历</span></span><br><span class="line">		<span class="keyword">for</span>(Person p:map.keySet()) &#123;</span><br><span class="line">			System.out.println(p+<span class="string">"==="</span>+map.get(p));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * Person [name=妙妙, age=22]===梦塔雪迷城</span></span><br><span class="line"><span class="comment">		 * Person [name=水冰儿, age=18]===斗罗大陆</span></span><br><span class="line"><span class="comment">		 * Person [name=美杜莎, age=31]===斗破苍穹</span></span><br><span class="line"><span class="comment">		 * Person [name=焰灵姬, age=28]===天行九歌</span></span><br><span class="line"><span class="comment">		 * Person [name=美杜莎, age=32]===斗破苍穹</span></span><br><span class="line"><span class="comment">		 * Person [name=云韵, age=30]===斗破苍穹</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>当给HashMap中存放自定义对象时，如果自定义对象作为key存在，这时要保证对象唯一，必须重写对象的hashCode和equals方法(如果忘记，请回顾HashSet存放自定义对象)。</li><li>如果要保证map中存放的key和取出的顺序一致，可以使用<code>java.util.LinkedHashMap</code>集合来存放。</li></ul><h2 id="1-8-LinkedHashMap"><a href="#1-8-LinkedHashMap" class="headerlink" title="1.8   LinkedHashMap"></a>1.8 LinkedHashMap</h2><p>我们知道HashMap保证成对元素唯一，并且查询速度很快，可是成对元素存放进去是没有顺序的，那么我们要保证有序，还要速度快怎么办呢？</p><p>在HashMap下面有一个子类LinkedHashMap，它是链表和哈希表组合的一个数据存储结构。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo05LinkedHashMap</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashMap&lt;String, Integer&gt; map=<span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</span><br><span class="line">		map.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>);</span><br><span class="line">		map.put(<span class="string">"妙妙"</span>, <span class="number">22</span>);</span><br><span class="line">		map.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>);</span><br><span class="line">		System.out.println(map);<span class="comment">//&#123;焰灵姬=28, 水冰儿=19, 妙妙=22&#125;</span></span><br><span class="line">		</span><br><span class="line">		LinkedHashMap&lt;String,Integer&gt; list=<span class="keyword">new</span> LinkedHashMap&lt;String, Integer&gt;();</span><br><span class="line">		list.put(<span class="string">"水冰儿"</span>, <span class="number">19</span>);</span><br><span class="line">		list.put(<span class="string">"妙妙"</span>, <span class="number">22</span>);</span><br><span class="line">		list.put(<span class="string">"焰灵姬"</span>, <span class="number">28</span>);</span><br><span class="line">		System.out.println(list);<span class="comment">//&#123;水冰儿=19, 妙妙=22, 焰灵姬=28&#125;</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-9-Hashtable"><a href="#1-9-Hashtable" class="headerlink" title="1.9 Hashtable"></a>1.9 Hashtable</h2><p>HashMap:底层是一个哈希表，是一个线程不安全的集合，是多线程的集合，速度快。可以存储null值，null键</p><p>Hashtable:底层是一个哈希表，是一个线程安全的集合，是单线程集合，速度慢。不能存储null值，null键</p><p>Hashtable(Vector)在jdk1.2之后，被更先进的集合HashMap(ArrayList)取代了。</p><p>Hashtable的子类Properties仍然活跃在历史舞台，Properties集合是一个唯一和IO流相结合的集合。</p><p>Hashtable代码演示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo06Hashtable</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashMap&lt;String,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;String,Integer&gt;();</span><br><span class="line">		map.put(<span class="string">"a"</span>, <span class="keyword">null</span>);</span><br><span class="line">		map.put(<span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">		map.put(<span class="keyword">null</span>,<span class="number">1</span>);</span><br><span class="line">		System.out.println(map);<span class="comment">//&#123;null=1, a=null&#125;</span></span><br><span class="line">		</span><br><span class="line">		Hashtable&lt;String, Integer&gt; table=<span class="keyword">new</span> Hashtable&lt;String, Integer&gt;();</span><br><span class="line"><span class="comment">//		table.put("b", null);//报错</span></span><br><span class="line"><span class="comment">//		table.put(null,1);//报错</span></span><br><span class="line"><span class="comment">//		table.put(null, null);//报错</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-10-Map集合练习"><a href="#1-10-Map集合练习" class="headerlink" title="1.10 Map集合练习"></a>1.10 Map集合练习</h2><p><strong>需求：</strong></p><p>计算一个字符串中每个字符出现次数。</p><p><strong>分析：</strong></p><ol><li>获取一个字符串对象</li><li>创建一个Map集合，键代表字符，值代表次数。</li><li>遍历字符串得到每个字符。</li><li>判断Map中是否有该键。</li><li>如果没有，第一次出现，存储次数为1；如果有，则说明已经出现过，获取到对应的值进行++，再次存储。</li><li>打印最终结果</li></ol><p><strong>代码：</strong></p><p>javascript实现方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=<span class="string">"chenchuancheng"</span>;</span><br><span class="line"><span class="keyword">let</span> obj=&#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">	<span class="keyword">let</span> key=arr[i];</span><br><span class="line">	<span class="keyword">if</span>(obj[key])&#123;</span><br><span class="line">		obj[key]++;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		obj[key]=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(i+<span class="string">"出现了"</span>+obj[i]+<span class="string">"次"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>java实现方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo07Practice</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str=<span class="string">"chenchuancheng"</span>;</span><br><span class="line">		String[] strArr=str.split(<span class="string">""</span>);</span><br><span class="line">		LinkedHashMap&lt;String, Integer&gt; list=<span class="keyword">new</span> LinkedHashMap&lt;String, Integer&gt;();</span><br><span class="line">		<span class="keyword">for</span>(String s:strArr) &#123;</span><br><span class="line">			<span class="keyword">if</span>(list.containsKey(s)) &#123;</span><br><span class="line">				<span class="keyword">int</span> num=list.get(s);</span><br><span class="line">				list.put(s, ++num);</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				list.put(s,<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历方法1</span></span><br><span class="line"><span class="comment">//		Set&lt;String&gt; set=list.keySet();</span></span><br><span class="line"><span class="comment">//		for(String s:set) &#123;</span></span><br><span class="line"><span class="comment">//			System.out.println(s+"出现了"+list.get(s)+"次");</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		<span class="comment">//遍历方法2</span></span><br><span class="line"><span class="comment">//		Set&lt;Entry&lt;String, Integer&gt;&gt; set=list.entrySet();</span></span><br><span class="line"><span class="comment">//		Iterator&lt;Entry&lt;String, Integer&gt;&gt; i=set.iterator();</span></span><br><span class="line"><span class="comment">//		while(i.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">//			Entry&lt;String,Integer&gt; entry=i.next();</span></span><br><span class="line"><span class="comment">//			System.out.println(entry.getKey()+"出现了"+entry.getValue()+"次");</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历方法3</span></span><br><span class="line"><span class="comment">//		Set&lt;String&gt; set=list.keySet();</span></span><br><span class="line"><span class="comment">//		Iterator&lt;String&gt; i=set.iterator();</span></span><br><span class="line"><span class="comment">//		while(i.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">//			String key=i.next();</span></span><br><span class="line"><span class="comment">//			System.out.println(key+"出现了"+list.get(key)+"次");</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历方法4</span></span><br><span class="line">		Set&lt;Entry&lt;String,Integer&gt;&gt; set=list.entrySet();</span><br><span class="line">		<span class="keyword">for</span>(Entry&lt;String,Integer&gt; i:set) &#123;</span><br><span class="line">			System.out.println(i.getKey()+<span class="string">"出现了"</span>+i.getValue()+<span class="string">"次"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-11-JDK9对集合添加的优化"><a href="#1-11-JDK9对集合添加的优化" class="headerlink" title="1.11 JDK9对集合添加的优化"></a>1.11 JDK9对集合添加的优化</h2><p>通常，我们在代码中创建一个集合（例如，List 或 Set ），并直接用一些元素填充它。 实例化集合，几个 add方法 调用，使得代码重复。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"abc"</span>);</span><br><span class="line">        list.add(<span class="string">"def"</span>);</span><br><span class="line">        list.add(<span class="string">"ghi"</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>jdk9新特性</strong></p><p>List接口，Set接口，Map接口，里面增加了一个静态的方法of，可以给集合一次性地添加多个元素</p><p><strong>使用前提</strong></p><p>当集合中元素的个数已经确定了，不再改变的时候使用</p><p><strong>注意</strong></p><ol><li>of方法只适用于List、Set、Map，不使用与接口的实现类，比方说ArrayList、HashSet、HashMap</li><li>of方法的返回值是一个不能改变的集合，集合不能再使用add或者put方法添加元素，会抛出异常</li><li>Set接口和Map接口在调用of方法的时候，不能有重复的元素，否则也会抛出异常。</li></ol><p><strong>例子</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloJDK9</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">        Set&lt;String&gt; str1=Set.of(<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>);  </span><br><span class="line">        <span class="comment">//str1.add("c");这里编译的时候不会错，但是执行的时候会报错，因为是不可变的集合  </span></span><br><span class="line">        System.out.println(str1);  </span><br><span class="line">        Map&lt;String,Integer&gt; str2=Map.of(<span class="string">"a"</span>,<span class="number">1</span>,<span class="string">"b"</span>,<span class="number">2</span>);  </span><br><span class="line">        System.out.println(str2);  </span><br><span class="line">        List&lt;String&gt; str3=List.of(<span class="string">"a"</span>,<span class="string">"b"</span>);  </span><br><span class="line">        System.out.println(str3);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>需要注意以下两点：</p><blockquote><p>1:of()方法只是Map，List，Set这三个接口的静态方法，其父类接口和子类实现并没有这类方法，比如 HashSet，ArrayList等待；</p><p>2:返回的集合是不可变的；</p></blockquote><h1 id="第二章-模拟斗地主洗牌发牌"><a href="#第二章-模拟斗地主洗牌发牌" class="headerlink" title="第二章  模拟斗地主洗牌发牌"></a>第二章 模拟斗地主洗牌发牌</h1><h2 id="2-1-案例介绍"><a href="#2-1-案例介绍" class="headerlink" title="2.1 案例介绍"></a>2.1 案例介绍</h2><p>按照斗地主的规则，完成洗牌发牌的动作。</p><p>具体规则：</p><ol><li>组装54张扑克牌将</li><li>54张牌顺序打乱</li><li>三个玩家参与游戏，三人交替摸牌，每人17张牌，最后三张留作底牌。</li><li>查看三人各自手中的牌（按照牌的大小排序）、底牌</li></ol><blockquote><p>规则：手中扑克牌从大到小的摆放顺序：大王,小王,2,A,K,Q,J,10,9,8,7,6,5,4,3</p></blockquote><h2 id="2-2-案例需求分析"><a href="#2-2-案例需求分析" class="headerlink" title="2.2 案例需求分析"></a>2.2 案例需求分析</h2><ol><li>准备牌：</li></ol><p>完成数字与纸牌的映射关系：</p><p>使用双列Map(HashMap)集合，完成一个数字与字符串纸牌的对应关系(相当于一个字典)。</p><ol start="2"><li>洗牌：</li></ol><p>通过数字完成洗牌发牌</p><ol start="3"><li>发牌：</li></ol><p>将每个人以及底牌设计为ArrayList<string>,将最后3张牌直接存放于底牌，剩余牌通过对3取模依次发牌。</string></p><p>存放的过程中要求数字大小与斗地主规则的大小对应。</p><p>将代表不同纸牌的数字分配给不同的玩家与底牌。</p><ol start="4"><li>看牌：</li></ol><p>通过Map集合找到对应字符展示。</p><p>通过查询纸牌与数字的对应关系，由数字转成纸牌字符串再进行展示。</p><h2 id="2-3-实现代码步骤"><a href="#2-3-实现代码步骤" class="headerlink" title="2.3  实现代码步骤"></a>2.3 实现代码步骤</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 斗地主：</span></span><br><span class="line"><span class="comment"> * 1.准备牌</span></span><br><span class="line"><span class="comment"> * 2.洗牌</span></span><br><span class="line"><span class="comment"> * 3.发牌</span></span><br><span class="line"><span class="comment"> * 4.看牌</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DouDiZhu</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 1.准备牌</span></span><br><span class="line">		List&lt;String&gt; colors = List.of(<span class="string">"♥"</span>, <span class="string">"♠"</span>, <span class="string">"♣"</span>, <span class="string">"♦"</span>);</span><br><span class="line">		List&lt;String&gt; numbers = List.of(<span class="string">"2"</span>, <span class="string">"A"</span>, <span class="string">"K"</span>, <span class="string">"Q"</span>, <span class="string">"J"</span>, <span class="string">"10"</span>, <span class="string">"9"</span>, <span class="string">"8"</span>, <span class="string">"7"</span>, <span class="string">"6"</span>, <span class="string">"5"</span>, <span class="string">"4"</span>, <span class="string">"3"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 存放牌</span></span><br><span class="line">		Map&lt;Integer, String&gt; poker = <span class="keyword">new</span> HashMap&lt;Integer, String&gt;();</span><br><span class="line">		<span class="keyword">int</span> key = <span class="number">0</span>;</span><br><span class="line">		poker.put(key++, <span class="string">"大王"</span>);</span><br><span class="line">		poker.put(key++, <span class="string">"小王"</span>);</span><br><span class="line">		<span class="keyword">for</span> (String number : numbers) &#123;</span><br><span class="line">			<span class="keyword">for</span> (String color : colors) &#123;</span><br><span class="line">				poker.put(key++, color + number);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 2.洗牌</span></span><br><span class="line">		<span class="comment">// 存放索引，用来排序</span></span><br><span class="line">		List&lt;Integer&gt; pokerKey = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">54</span>; i++) &#123;</span><br><span class="line">			pokerKey.add(i);</span><br><span class="line">		&#125;</span><br><span class="line">		Collections.shuffle(pokerKey);</span><br><span class="line">		<span class="comment">// 3.发牌</span></span><br><span class="line">		<span class="comment">// 创建存放玩家牌序号的集合</span></span><br><span class="line">		ArrayList&lt;Integer&gt; no01 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">		ArrayList&lt;Integer&gt; no02 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">		ArrayList&lt;Integer&gt; no03 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">		ArrayList&lt;Integer&gt; noDiPai = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pokerKey.size(); i++) &#123;</span><br><span class="line">			Integer p = pokerKey.get(i);</span><br><span class="line">			<span class="keyword">if</span> (i &gt;= <span class="number">51</span>) &#123;<span class="comment">// 底牌发牌</span></span><br><span class="line">				noDiPai.add(p);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span>) &#123;<span class="comment">// 玩家1发牌</span></span><br><span class="line">				no01.add(p);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">1</span>) &#123;<span class="comment">// 玩家2发牌</span></span><br><span class="line">				no02.add(p);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">2</span>) &#123;<span class="comment">// 玩家3发牌</span></span><br><span class="line">				no03.add(p);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		Collections.sort(no01);</span><br><span class="line">		Collections.sort(no02);</span><br><span class="line">		Collections.sort(no03);</span><br><span class="line">		Collections.sort(noDiPai);</span><br><span class="line">		<span class="comment">// 创建玩家的集合</span></span><br><span class="line">		ArrayList&lt;String&gt; player01 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		ArrayList&lt;String&gt; player02 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		ArrayList&lt;String&gt; player03 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		ArrayList&lt;String&gt; diPai = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		<span class="keyword">for</span> (Integer i : no01) &#123;</span><br><span class="line">			player01.add(poker.get(i));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (Integer i : no02) &#123;</span><br><span class="line">			player02.add(poker.get(i));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (Integer i : no03) &#123;</span><br><span class="line">			player03.add(poker.get(i));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (Integer i : noDiPai) &#123;</span><br><span class="line">			diPai.add(poker.get(i));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"焰灵姬："</span> + player01);</span><br><span class="line">		System.out.println(<span class="string">"水冰儿："</span> + player02);</span><br><span class="line">		System.out.println(<span class="string">"紫女："</span> + player03);</span><br><span class="line">		System.out.println(<span class="string">"底牌："</span> + diPai);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="post-detail">发布：2019-11-29 21:52:44<br>修改：2020-06-15 11:37:19<br>链接：<span class="shareUrl">https://meethigher.top/blog/2019/map/</span><br>标签：<span><a href="/blog/tags/java/">java</a>&nbsp;</span></div><div class="post-btn"><img no-lazy src="/blog/images/alipay.png" style="display:none" alt="付款码"> <span class="post-donation-btn">捐助</span> <span class="post-share-btn">分享</span></div><div class="busuanzi"><span id="busuanzi_container_page_pv">阅读量<span id="busuanzi_value_page_pv"></span>次</span><script defer src="/blog/js/busuanzi.js"></script></div></article><div class="outline" title="目录"><span class="fa fa-list-alt"></span></div></div></main><script src="https://cdn.jsdelivr.net/gh/meethigher/cdn@9.0/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/meethigher/cdn@11/js/layer/layer.js"></script><script src="https://cdn.jsdelivr.net/gh/meethigher/cdn@13/js/instantpage.js"></script><script src="/blog/js/meethigher.js"></script><script>let imgs = $(".post-content.blog-markdown img");imgs.css("width", "100%");</script><script>window.imageLazyLoadSetting={isSPA:!1,processImages:null}</script><script>window.addEventListener("load",function(){var a=/\.(gif|jpg|jpeg|tiff|png)$/i,e=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll(".blog-markdown img[data-original]")).forEach(function(t){var r=t.parentNode;"A"===r.tagName&&(r.href.match(a)||r.href.match(e))&&(r.href=t.dataset.original)})})</script><script>!function(t){function e(){n&&(o=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var e,i,r=0;r<o.length;r++)e=o[r],0<=(i=e.getBoundingClientRect()).bottom&&0<=i.left&&i.top<=(t.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,a=o[r];t=a,e=function(){o=o.filter(function(t){return a===t&&t.removeAttribute("style"),a!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}t.imageLazyLoadSetting.processImages=e;var n=t.imageLazyLoadSetting.isSPA,o=Array.prototype.slice.call(document.querySelectorAll(".blog-markdown img[data-original]"));e(),t.addEventListener("scroll",function(){var n,o;n=e,o=t,clearTimeout(n.tId),n.tId=setTimeout(function(){n.call(o)},500)})}(this)</script></body></html>